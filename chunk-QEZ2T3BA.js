import{a as z,b as N,c as V,d as j,e as D}from"./chunk-DYVS3EEU.js";import"./chunk-TLJBQ4BI.js";import{B as d,C as i,D as e,Da as C,Fa as w,Ga as T,J as g,K as x,Ma as I,Na as k,Oa as S,Pa as E,R as t,S as O,T as M,U as _,V as v,_ as P,aa as y,ea as b,r as p,s as c,u,y as h}from"./chunk-OEL62PIF.js";import"./chunk-BBQCHGOY.js";import"./chunk-AEK5DP3X.js";import"./chunk-4PGTP63H.js";import"./chunk-QTZDCQGX.js";import"./chunk-HC6MZPB3.js";import"./chunk-3ZWBEGGW.js";import"./chunk-FERD25SW.js";import"./chunk-7EU7YSXT.js";import"./chunk-LEIMCQKJ.js";import"./chunk-NH273NSP.js";import"./chunk-BZ2JL7UE.js";import"./chunk-5OMUW5VI.js";import"./chunk-OBXDPQ3V.js";import"./chunk-WQFN7QHR.js";import"./chunk-MCRJI3T3.js";import"./chunk-JKPJBTAS.js";import"./chunk-6BZQMH6N.js";import"./chunk-FUZEWVVD.js";import"./chunk-JWLFWR57.js";import"./chunk-K37TMWFX.js";import"./chunk-PDHLYCMZ.js";import"./chunk-OKK2IETV.js";import"./chunk-ESZTMNVX.js";import"./chunk-IJQ6LB4K.js";import"./chunk-JWIEPCRG.js";import"./chunk-LF5XB4YN.js";import{f}from"./chunk-RW4GY4BD.js";function W(s,r){if(s&1&&(i(0,"div",9),t(1),e()),s&2){let F=x();p(),O(F.errorMessage)}}var K=(()=>{let r=class r{constructor(n,a,o){this.otpService=n,this.router=a,this.toastController=o,this.otp="",this.errorMessage=""}ngOnInit(){}onOtpInput(n){this.otp=this.otp.replace(/[^0-9]/g,"")}verifyOtp(){if(this.otp.length!==6){this.showToast("Please enter a 6-digit OTP.");return}this.otpService.verifyOtp(this.otp).subscribe({next:n=>{n.success?this.router.navigate(["/dashboard"]):this.errorMessage="Invalid OTP. Please try again."},error:()=>{this.errorMessage="Error verifying OTP. Please try again."}})}showToast(n){return f(this,null,function*(){yield(yield this.toastController.create({message:n,duration:2e3,color:"danger",position:"top"})).present()})}};r.\u0275fac=function(a){return new(a||r)(c(D),c(b),c(V))},r.\u0275cmp=u({type:r,selectors:[["app-otp"]],decls:19,vars:3,consts:[[1,"ion-padding",3,"fullscreen"],[1,"form-container"],[1,"page-title"],[1,"instruction"],[1,"info-text","red"],[1,"otp-input-wrapper"],["type","tel","placeholder","Enter OTP","inputmode","numeric","pattern","[0-9]*","maxlength","6",1,"otp-input",3,"ngModelChange","keydown","ngModel"],["class","error-message",4,"ngIf"],["expand","block","color","primary",3,"click"],[1,"error-message"]],template:function(a,o){a&1&&(i(0,"ion-content",0)(1,"div",1)(2,"h1",2),t(3,"Enter OTP"),e(),i(4,"p",3),t(5,"A code has been sent to your mobile number"),e(),i(6,"div",4)(7,"p")(8,"strong"),t(9,"Note for Interviewer:"),e(),t(10," The OTP is "),i(11,"strong"),t(12,"123456"),e(),t(13,". You can test by entering this OTP or use a wrong OTP for validation."),e()(),i(14,"div",5)(15,"input",6),v("ngModelChange",function(l){return _(o.otp,l)||(o.otp=l),l}),g("keydown",function(l){return o.onOtpInput(l)}),e()(),h(16,W,2,1,"div",7),i(17,"ion-button",8),g("click",function(){return o.verifyOtp()}),t(18,"Verify"),e()()()),a&2&&(d("fullscreen",!0),p(15),M("ngModel",o.otp),p(),d("ngIf",o.errorMessage))},dependencies:[j,z,N,S,C,w,I,k,T,y,P,E],styles:[".form-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;max-width:400px;margin:0 auto;padding-top:4rem;padding-left:1rem;padding-right:1rem}.page-title[_ngcontent-%COMP%]{font-size:24px;font-weight:700;color:#000;text-align:left;margin-bottom:.25rem;line-height:1.2}.instruction[_ngcontent-%COMP%]{color:#000;font-size:14px;text-align:left;margin-bottom:.5rem;line-height:1.2}.otp-input-wrapper[_ngcontent-%COMP%]{display:flex;background:#000;border:1px solid #ccc;border-radius:8px;overflow:hidden}.otp-input[_ngcontent-%COMP%]{flex:1;border:none;padding:12px;font-size:16px;color:#000;background:#fff}.otp-input[_ngcontent-%COMP%]:focus{outline:none}.error-message[_ngcontent-%COMP%]{color:red;font-size:14px;margin-top:-.5rem;margin-bottom:.5rem;text-align:left}[_nghost-%COMP%]{--ion-background-color: #ffffff}ion-content[_ngcontent-%COMP%]{--background: #ffffff}.info-text[_ngcontent-%COMP%]{font-size:12px;margin-bottom:1rem;padding:8px;background-color:#f9f9f9;border-left:4px solid #4caf50}.info-text.red[_ngcontent-%COMP%]{color:red}"]});let s=r;return s})();export{K as OtpPage};
